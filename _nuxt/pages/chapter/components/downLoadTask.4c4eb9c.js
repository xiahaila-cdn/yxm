(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{250:function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return d})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return k}));var r=n(31),o=function(t){return Object(r.a)({url:"/v1/monetization_tasks/top",method:"GET",app:t})},c=function(t,e){return Object(r.a)({url:"/v1/tasks/".concat(t,"/hand_in"),method:"POST",app:e})},d=function(t,e){return Object(r.a)({url:"/v1/task/take?task_order_no=".concat(t),method:"POST",app:e})},l=function(t,e){return Object(r.a)({url:"/v1/task/detail?task_order_no=".concat(t),method:"GET",app:e})},f=function(t){return Object(r.a)({url:"/v1/sign",method:"POST",app:t})},k=function(code,t){return Object(r.a)({url:"/v1/user/bind_gzh?code=".concat(code),method:"POST",app:t})}},255:function(t,e,n){var content=n(264);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(47).default)("8afda06a",content,!0,{sourceMap:!1})},261:function(t,e,n){"use strict";n(262)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},262:function(t,e,n){var r=n(18),o=n(26),c=n(62),d=/"/g,l=function(t,e,n,r){var o=String(c(t)),l="<"+e;return""!==n&&(l+=" "+n+'="'+String(r).replace(d,"&quot;")+'"'),l+">"+o+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(l),r(r.P+r.F*o((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},263:function(t,e,n){"use strict";n(255)},264:function(t,e,n){var r=n(46)(!1);r.push([t.i,".buy-vip-contain[data-v-4c1fb366]{height:8rem;position:relative}.buy-vip-contain .title[data-v-4c1fb366]{padding:.5rem 0;font-weight:700;color:#ff976a;font-size:.6rem}.buy-vip-contain .coin-row[data-v-4c1fb366]{text-align:center}.buy-vip-contain .price-row[data-v-4c1fb366]{padding:.5rem 0}.buy-vip-contain .price-row .show-price[data-v-4c1fb366]{font-weight:700;color:#ff976a;font-size:.5rem;width:100%;text-align:center}.buy-vip-contain .buy-btn[data-v-4c1fb366]{display:block;font-weight:700;position:absolute;bottom:0;right:50%;width:4rem;margin:0 -2rem 0 auto}",""]),t.exports=r},270:function(t,e,n){"use strict";n.r(e);var r=n(11),o=(n(48),n(261),n(250)),c={name:"DownLoadTask",props:{task:{type:Object,required:!0}},data:function(){return{taskOrder:{},loopIntervalId:null}},computed:{statusText:function(){return 0==this.task.taskOrderStatus?"安装后领取":1==this.task.taskOrderStatus?"领取奖励":"已领取"}},methods:{doHandInTask:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.d)(t.task.id);case 2:if(200==(n=e.sent).state){e.next=5;break}return e.abrupt("return");case 5:t.taskOrder=n.result,window.location.href=n.result.taskContent.link,t.loopCheckTaskOrder();case 8:case"end":return e.stop()}}),e)})))()},doTaskTheTask:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.task.taskOrderNo||t.taskOrder.taskOrderNo,e.next=3,Object(o.f)(n);case 3:if(200==(r=e.sent).state){e.next=7;break}return t.$toast(r.errMsg),e.abrupt("return");case 7:t.$emit("finishTask",r.result);case 8:case"end":return e.stop()}}),e)})))()},loopCheckTaskOrder:function(){if(console.log("loopCheckTaskOrderloopCheckTaskOrderloopCheckTaskOrderloopCheckTaskOrder",this.loopIntervalId),!this.loopIntervalId){var t=this;this.loopIntervalId=setInterval((function(){var e=t.task.taskOrderNo||t.taskOrder.taskOrderNo;e&&Object(o.c)(e).then((function(e){console.log("getTaskOrderDetail",e),200==e.state&&0!=e.result.status&&(t.$set(t.task,"taskOrderStatus",e.result.status),t.cleanInterval())}))}),2e3)}},cleanInterval:function(){this.loopIntervalId&&(clearInterval(this.loopIntervalId),this.loopIntervalId=null)}},mounted:function(){this.loopCheckTaskOrder()},destroyed:function(){this.cleanInterval(),console.log("destroyeddestroyeddestroyeddestroyed",this.loopIntervalId)}},d=(n(263),n(21)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"buy-vip-contain"},[n("van-row",{staticClass:"coin-row",attrs:{type:"flex",justify:"center"}},[t._v("\n    "+t._s(t.task.title)+"\n  ")]),t._v(" "),n("van-row",{staticClass:"price-row",attrs:{type:"flex",justify:"center"}},[n("ImgLazy",{staticStyle:{width:"2rem"},attrs:{imgSrc:t.task.taskContent.icon},nativeOn:{click:function(e){return t.doHandInTask(e)}}}),t._v(" "),n("span",{staticStyle:{width:"100%",display:"block","text-align":"center","text-decoration":"underline",color:"red"},on:{click:t.doHandInTask}},[t._v("\n      >>"+t._s(t.task.taskContent.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"show-price"},[t._v("+"+t._s(t.task.rewardBO.coin)+"金币")])],1),t._v(" "),n("van-row",{attrs:{type:"flex",justify:"center"}},[n("van-button",{staticClass:"buy-btn",attrs:{round:"",disabled:0==t.task.taskOrderStatus,type:"warning",size:"mini"},on:{click:t.doTaskTheTask}},[t._v("\n      "+t._s(t.statusText)+"\n    ")])],1)],1)}),[],!1,null,"4c1fb366",null);e.default=component.exports}}]);
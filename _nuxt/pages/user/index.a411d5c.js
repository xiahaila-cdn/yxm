(window.webpackJsonp=window.webpackJsonp||[]).push([[22,20],{258:function(t,e,n){var content=n(275);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(47).default)("31958f05",content,!0,{sourceMap:!1})},274:function(t,e,n){"use strict";n(258)},275:function(t,e,n){var o=n(46)(!1);o.push([t.i,".userInfo-page{width:100%;height:100%}",""]),t.exports=o},295:function(t,e,n){var content=n(325);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(47).default)("4b9a431d",content,!0,{sourceMap:!1})},301:function(t,e,n){"use strict";n.r(e);n(42),n(30),n(40),n(49),n(50);var o=n(14),r=n(20);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={name:"Userinfo",props:{show:{type:Boolean,default:!1}},model:{prop:"show",event:"updateShow"},computed:l({},Object(r.c)(["userInfo"])),methods:l(l({},Object(r.b)(["outLogin"])),{},{outlogin:function(){this.outLogin(),this.offShow(),this.$toast("用户登出成功，回见")},offShow:function(){this.$emit("updateShow",!1)}})},d=(n(274),n(21)),component=Object(d.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-popup",{style:{height:"100%",width:"100%"},attrs:{position:"right","close-on-click-overlay":!1},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"userInfo-page"},[n("van-nav-bar",{attrs:{title:"用户信息","left-text":"返回","left-arrow":""},on:{"click-left":t.offShow}}),t._v(" "),n("van-cell-group",{attrs:{title:"账号信息"}},[n("van-cell",{attrs:{title:"手机号",value:t.userInfo.phone}})],1),t._v(" "),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{staticStyle:{width:"100%"},attrs:{plain:"",hairline:"",type:"danger"},on:{click:function(e){return t.outlogin()}}},[t._v("\n        退出登录\n      ")])],1)],1)])}),[],!1,null,null,null);e.default=component.exports},324:function(t,e,n){"use strict";n(295)},325:function(t,e,n){var o=n(46)(!1);o.push([t.i,".user-page[data-v-1d4ffd7e]{padding:.6rem}div.header_cell>div[data-v-1d4ffd7e]{background-color:#f5f5f5}div.header_cell .c-phone[data-v-1d4ffd7e]{font-size:.5rem}div.header_cell .c-avator[data-v-1d4ffd7e]{width:2.5rem;height:2.5rem;margin-right:.8rem}div.vip_cell[data-v-1d4ffd7e]{padding-top:4px;padding-bottom:18px}div.vip_cell>div[data-v-1d4ffd7e]{background-color:#000;border-radius:.5rem}div.vip_cell .c-label[data-v-1d4ffd7e],div.vip_cell .c-title[data-v-1d4ffd7e]{color:#f5f5f5}div.vip_cell.on>div[data-v-1d4ffd7e]{background-color:#faac0c}.banner_cell[data-v-1d4ffd7e]{padding-top:4px;padding-bottom:18px}.kingkong_cell .c_autopay[data-v-1d4ffd7e]{padding-top:.3rem;font-size:.53rem}.vip-end-cdt[data-v-1d4ffd7e]{color:#fff}",""]),t.exports=o},350:function(t,e,n){"use strict";n.r(e);n(42),n(30),n(40),n(49),n(50);var o=n(11),r=n(14),c=(n(48),n(20)),l=n(84);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={head:{title:"我的"},components:{UserInfo:n(301).default},data:function(){return{showUserInfo:!1,logining:!1,defatulAvatar:"/images/default_head_img.png",autoPay:!1,updatingAutoPay:!1}},computed:d(d({},Object(c.c)(["userInfo"])),{},{coutDownTime:function(){return this.userInfo.vipEnd?new Date(this.userInfo.vipEnd).getTime()-(new Date).getTime():0},showAvator:function(){return this.userInfo.avatar||this.defatulAvatar},showNickName:function(){return this.userInfo&&this.userInfo.id?this.userInfo.nickName||"用户".concat(this.userInfo.id):"游客"},showVip:function(){return this.userInfo&&this.userInfo.id?this.userInfo.isVip?this.userInfo.vipDayBalance>365?"永久超级会员":"剩".concat(this.userInfo.vipDayBalance,"天"):"未开通":"未登录"},showBalance:function(){return this.userInfo&&this.userInfo.id?this.userInfo.balance+"":"0"}}),watch:{userInfo:function(t){console.log("watch userInfo had changed",t)}},mounted:function(){this.userInfo&&this.userInfo.id&&(this.autoPay=this.userInfo.autoPay)},methods:d(d({},Object(c.b)(["update"])),{},{clickFeedBack:function(){this.$notify({type:"success",message:"正在开发中，请稍后"})},memberExclusive:function(){this.userInfo.isVip?this.$notify({type:"success",message:"暂无资源，请过段时间再来看看"}):this.$notify({type:"danger",message:"仅会员开放"})},onClickUserInfo:function(){this.userInfo&&this.userInfo.id?this.showUserInfo=!0:this.logining=!0},goToTask:function(){this.$notify({type:"success",message:"做任务赢金币，任务中心即将开放"})},goToVip:function(){this.$router.push({path:"/recharge"})},openVip:function(){this.userInfo.isVip||this.goToVip()},clickAutoPay:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.updatingAutoPay=!0,t.next=3,Object(l.e)({autoPay:!e.autoPay});case 3:n=t.sent,e.updatingAutoPay=!1,200==n.state?(e.autoPay=!e.autoPay,e.userInfo.autoPay=e.autoPay,e.update(e.userInfo),e.$toast({type:"success",message:"修改成功",duration:200})):e.$notify({type:"danger",message:"未登录，请先登录",onClose:function(){e.$router.push({path:"/login"})}});case 6:case"end":return t.stop()}}),t)})))()}})},h=(n(324),n(21)),component=Object(h.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-page"},[n("div",{staticClass:"header_cell"},[n("van-cell",{attrs:{center:"","is-link":!!t.userInfo.id},on:{click:t.onClickUserInfo},scopedSlots:t._u([{key:"icon",fn:function(){return[n("van-image",{staticClass:"c-avator",attrs:{round:"",src:t.showAvator}})]},proxy:!0},{key:"title",fn:function(){return[t.userInfo&&t.userInfo.id?n("div",[n("span",{staticClass:"c-title"},[t._v(t._s(t.showNickName)+" ")])]):n("van-tag",{attrs:{round:"",type:"primary"}},[t._v("点击登录")])]},proxy:!0},{key:"label",fn:function(){return[t.userInfo&&t.userInfo.id?n("span",[t._v("这家伙很懒，什么都留下 ")]):t._e()]},proxy:!0}])})],1),t._v(" "),n("div",{staticClass:"vip_cell",class:{on:t.userInfo.isVip},on:{click:t.openVip}},[n("van-cell",{attrs:{center:""},scopedSlots:t._u([{key:"title",fn:function(){return[n("span",{staticClass:"c-title"},[t._v("超级会员")])]},proxy:!0},{key:"label",fn:function(){return[t.userInfo.isVip?t.userInfo.vipDayBalance>365?n("span",[t._v("永久会员")]):n("van-count-down",{staticClass:"vip-end-cdt",attrs:{time:t.coutDownTime},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"colon"},[t._v("会员剩余时间：")]),t._v(" "),e.days>0?n("span",{staticClass:"block"},[t._v(t._s(e.days))]):t._e(),t._v(" "),e.days>0?n("span",{staticClass:"colon"},[t._v("天")]):t._e(),t._v(" "),e.days<=0&&e.hours>0?n("span",{staticClass:"block"},[t._v(t._s(e.hours))]):t._e(),t._v(" "),e.days<=0&&e.hours>0?n("span",{staticClass:"colon"},[t._v("小时")]):t._e(),t._v(" "),e.days<=0&&e.hours<=0&&e.minutes>0?n("span",{staticClass:"block"},[t._v(t._s(e.minutes))]):t._e(),t._v(" "),e.days<=0&&e.hours<=0&&e.minutes>0?n("span",{staticClass:"colon"},[t._v("分钟")]):t._e()]}}])}):n("span",{staticClass:"c-label"},[t._v("会员无限制畅读全站所有漫画，更有其他精彩福利")])]},proxy:!0},t.userInfo.isVip?null:{key:"default",fn:function(){return[n("span",{staticClass:"c-content"},[t._v("点击开通")])]},proxy:!0}],null,!0)})],1),t._v(" "),n("div",{staticClass:"banner_cell"},[n("van-grid",{attrs:{"column-num":3}},[n("van-grid-item",{attrs:{icon:"gold-coin-o",text:t.showBalance}}),t._v(" "),n("van-grid-item",{attrs:{icon:"vip-card-o",text:"任务中心",url:"/task",dot:""}}),t._v(" "),n("van-grid-item",{attrs:{icon:"friends-o",text:"邀请好友",url:"/invite"}})],1)],1),t._v(" "),n("div",{staticClass:"kingkong_cell"},[n("van-grid",[n("van-grid-item",{attrs:{icon:"clock-o",text:"阅读历史",to:"/self"}}),t._v(" "),n("van-grid-item",{attrs:{icon:"comment-o",text:"消息通知",badge:t.userInfo.unreadMsgNum?t.userInfo.unreadMsgNum:"",to:"/message"}}),t._v(" "),n("van-grid-item",{attrs:{icon:"gift-o",text:"会员专属"},on:{click:t.memberExclusive}}),t._v(" "),n("van-grid-item",{attrs:{icon:"records",text:"意见反馈"},on:{click:t.clickFeedBack}}),t._v(" "),n("van-grid-item",[n("van-switch",{attrs:{value:t.autoPay,loading:t.updatingAutoPay,size:"24px"},on:{input:t.clickAutoPay}}),t._v(" "),n("span",{staticClass:"c_autopay"},[t._v("自动订阅")])],1)],1)],1),t._v(" "),n("Login",{model:{value:t.logining,callback:function(e){t.logining=e},expression:"logining"}}),t._v(" "),n("UserInfo",{model:{value:t.showUserInfo,callback:function(e){t.showUserInfo=e},expression:"showUserInfo"}}),t._v(" "),n("Tabbar",{attrs:{page:"my"}})],1)}),[],!1,null,"1d4ffd7e",null);e.default=component.exports}}]);
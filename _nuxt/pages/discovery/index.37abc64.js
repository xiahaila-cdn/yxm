(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{253:function(t,r,e){"use strict";e.d(r,"d",(function(){return o})),e.d(r,"c",(function(){return c})),e.d(r,"a",(function(){return l})),e.d(r,"b",(function(){return f})),e.d(r,"e",(function(){return h})),e.d(r,"f",(function(){return d}));var n=e(31),o=function(t){var r=t.params,e=t.app;return Object(n.a)({url:"/v1/cartoons/tags",method:"GET",data:r,app:e})},c=function(t){var r=t.params,e=t.app;return Object(n.a)({url:"/v1/cartoons",method:"GET",data:r,app:e})},l=function(t,r){return Object(n.a)({url:"/v1/cartoons/".concat(t),method:"GET",app:r})},f=function(t){var r=t.params,e=t.app;return Object(n.a)({url:"/v1/chapters/cartoons/".concat(r.id,"/resume"),method:"GET",data:r,app:e})},h=function(t,r){return Object(n.a)({url:"/v1/cartoons?cartoonName=".concat(t),method:"GET",app:r})},d=function(t,r){return Object(n.a)({url:"/v1/read_records",method:"GET",data:t,app:r})}},284:function(t,r,e){"use strict";e.d(r,"a",(function(){return c}));var n=e(114);var o=e(133);function c(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(o.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},287:function(t,r,e){var n=e(37);t.exports=function(t,r){if(!n(t)||t._t!==r)throw TypeError("Incompatible receiver, "+r+" required!");return t}},288:function(t,r,e){var content=e(311);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(47).default)("7f09c91f",content,!0,{sourceMap:!1})},307:function(t,r,e){"use strict";var strong=e(308),n=e(287);t.exports=e(309)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return strong.def(n(this,"Set"),t=0===t?0:t,t)}},strong)},308:function(t,r,e){"use strict";var n=e(32).f,o=e(102),c=e(178),l=e(63),f=e(176),h=e(177),d=e(131),v=e(180),y=e(132),_=e(27),m=e(175).fastKey,w=e(287),k=_?"_s":"size",S=function(t,r){var e,n=m(r);if("F"!==n)return t._i[n];for(e=t._f;e;e=e.n)if(e.k==r)return e};t.exports={getConstructor:function(t,r,e,d){var v=t((function(t,n){f(t,v,r,"_i"),t._t=r,t._i=o(null),t._f=void 0,t._l=void 0,t[k]=0,null!=n&&h(n,e,t[d],t)}));return c(v.prototype,{clear:function(){for(var t=w(this,r),data=t._i,e=t._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete data[e.i];t._f=t._l=void 0,t[k]=0},delete:function(t){var e=w(this,r),n=S(e,t);if(n){var o=n.n,c=n.p;delete e._i[n.i],n.r=!0,c&&(c.n=o),o&&(o.p=c),e._f==n&&(e._f=o),e._l==n&&(e._l=c),e[k]--}return!!n},forEach:function(t){w(this,r);for(var e,n=l(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!S(w(this,r),t)}}),_&&n(v.prototype,"size",{get:function(){return w(this,r)[k]}}),v},def:function(t,r,e){var n,o,c=S(t,r);return c?c.v=e:(t._l=c={i:o=m(r,!0),k:r,v:e,p:n=t._l,n:void 0,r:!1},t._f||(t._f=c),n&&(n.n=c),t[k]++,"F"!==o&&(t._i[o]=c)),t},getEntry:S,setStrong:function(t,r,e){d(t,r,(function(t,e){this._t=w(t,r),this._k=e,this._l=void 0}),(function(){for(var t=this,r=t._k,e=t._l;e&&e.r;)e=e.p;return t._t&&(t._l=e=e?e.n:t._t._f)?v(0,"keys"==r?e.k:"values"==r?e.v:[e.k,e.v]):(t._t=void 0,v(1))}),e?"entries":"values",!e,!0),y(r)}}},309:function(t,r,e){"use strict";var n=e(19),o=e(18),c=e(38),l=e(178),meta=e(175),f=e(177),h=e(176),d=e(37),v=e(26),y=e(130),_=e(88),m=e(134);t.exports=function(t,r,e,w,k,S){var x=n[t],C=x,E=k?"set":"add",L=C&&C.prototype,O={},H=function(t){var r=L[t];c(L,t,"delete"==t||"has"==t?function(a){return!(S&&!d(a))&&r.call(this,0===a?0:a)}:"get"==t?function(a){return S&&!d(a)?void 0:r.call(this,0===a?0:a)}:"add"==t?function(a){return r.call(this,0===a?0:a),this}:function(a,b){return r.call(this,0===a?0:a,b),this})};if("function"==typeof C&&(S||L.forEach&&!v((function(){(new C).entries().next()})))){var j=new C,T=j[E](S?{}:-0,1)!=j,N=v((function(){j.has(1)})),G=y((function(t){new C(t)})),I=!S&&v((function(){for(var t=new C,r=5;r--;)t[E](r,r);return!t.has(-0)}));G||((C=r((function(r,e){h(r,C,t);var n=m(new x,r,C);return null!=e&&f(e,k,n[E],n),n}))).prototype=L,L.constructor=C),(N||I)&&(H("delete"),H("has"),k&&H("get")),(I||T)&&H(E),S&&L.clear&&delete L.clear}else C=w.getConstructor(r,t,k,E),l(C.prototype,e),meta.NEED=!0;return _(C,t),O[t]=C,o(o.G+o.W+o.F*(C!=x),O),S||w.setStrong(C,t,k),C}},310:function(t,r,e){"use strict";e(288)},311:function(t,r,e){var n=e(46)(!1);n.push([t.i,".search_container[data-v-3f2d03b6]{padding-bottom:2rem}.group_wrap[data-v-3f2d03b6]{background-color:#f5f5f5;padding:.3rem .24rem}.other_search_item[data-v-3f2d03b6]{float:left;margin:.0625rem;font-size:1rem}.cartoon-img[data-v-3f2d03b6]{height:2.4rem;width:3.8rem;margin-right:.36rem;border-radius:.28rem}.search_result[data-v-3f2d03b6]{width:100%;overflow:hidden;height:2.4rem;line-height:.8rem;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3}",""]),t.exports=n},343:function(t,r,e){"use strict";e.r(r);var n=e(284),o=e(11),c=(e(48),e(307),e(67),e(33),e(68),e(103),e(253)),l={data:function(){return{keyword:"",searchHistoryList:[],searchedCartoonList:[],searchFinished:!1,searchState:1,endShow:!1,isYes:!1,searchEndData:[],othersSearch:["快乐笔记","私密教学","特殊奖励","健身教练","她的朋友们","寄宿日记","深夜噪音"]}},mounted:function(){this.searchHistoryList=JSON.parse(localStorage.getItem("searchHistoryList"))||[]},watch:{keyword:function(t){""==t&&(this.endShow=!1,this.isYes=!1)}},methods:{onSearch:function(text){this.startSearchEvent()},onCancel:function(){console.log("always always always always always always always ")},onClear:function(){this.searchState=1},searchCartoonsByName:function(t){this.keyword=t,this.searchFinished=!0,this.startSearchEvent()},startSearchEvent:function(text){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var e;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.keyword){r.next=2;break}return r.abrupt("return");case 2:return t,t.searchHistoryList.unshift(t.keyword),t.searchHistoryList=Object(n.a)(new Set(t.searchHistoryList)),localStorage.setItem("searchHistoryList",JSON.stringify(t.searchHistoryList)),r.next=8,Object(c.e)(t.keyword);case 8:e=r.sent,t.searchState=2,t.searchedCartoonList=e.result.records;case 11:case"end":return r.stop()}}),r)})))()},splitTags:function(t){return t?t.split("|"):[]},delHistory:function(t){this.searchHistoryList.splice(t,1),localStorage.setItem("searchHistoryList",JSON.stringify(this.searchHistoryList))}}},f=(e(310),e(21)),component=Object(f.a)(l,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"search_container"},[e("van-search",{attrs:{"show-action":!0,"clear-trigger":"always",shape:"round",placeholder:"请输入作品名称"},on:{search:t.onSearch,cancel:t.onCancel,clear:t.onClear},scopedSlots:t._u([{key:"action",fn:function(){return[e("div",{on:{click:t.onSearch}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.keyword,callback:function(r){t.keyword=r},expression:"keyword"}}),t._v(" "),1==t.searchState?e("van-cell-group",{staticClass:"group_wrap",attrs:{title:"热门搜索"}},[e("div",{staticClass:"centent"},[e("ul",t._l(t.othersSearch,(function(r){return e("li",{staticClass:"other_search_item",on:{click:function(e){return t.searchCartoonsByName(r)}}},[e("van-tag",{attrs:{round:"",type:"primary",color:"#888"}},[t._v(t._s(r))])],1)})),0)]),t._v(" "),e("div",{staticStyle:{clear:"both"}})]):t._e(),t._v(" "),1==t.searchState?e("van-cell-group",{staticClass:"group_wrap",attrs:{title:"搜索历史"}},[e("van-list",{attrs:{finished:!0,"finished-text":0==t.searchHistoryList.length?"暂无搜索历史":""}},t._l(t.searchHistoryList,(function(r,n){return e("van-cell",{key:n,attrs:{center:"",title:r},on:{click:function(e){return t.searchCartoonsByName(r)}},scopedSlots:t._u([{key:"right-icon",fn:function(){return[e("van-icon",{attrs:{name:"cross"},on:{click:function(r){return r.stopPropagation(),t.delHistory(n)}}})]},proxy:!0}],null,!0)})})),1)],1):t._e(),t._v(" "),2==t.searchState?e("van-cell-group",{staticClass:"group_wrap",attrs:{title:"搜索结果"}},[e("van-list",{attrs:{finished:!0,"finished-text":"没有更多了"}},t._l(t.searchedCartoonList,(function(r){return e("van-cell",{key:r.cid,attrs:{center:"",to:"/book/"+r.cid},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ImgLazy",{staticClass:"cartoon-img",attrs:{imgSrc:r.img_url,altSrc:r.newAlbumPic,alt:""}})]},proxy:!0},{key:"title",fn:function(){return[e("span",[t._v(t._s(r.name))])]},proxy:!0},{key:"label",fn:function(){return[t._l(t.splitTags(r.tagText),(function(r,n){return e("van-tag",{key:n,attrs:{round:"",type:"primary"}},[t._v("\n                "+t._s(r)+"\n              ")])})),t._v(" "),e("span",{staticClass:"search_result"},[t._v(t._s(r.brief))])]},proxy:!0}],null,!0)})})),1)],1):t._e(),t._v(" "),t.isYes?e("Empty",{attrs:{showLogin:!1}}):t._e(),t._v(" "),e("Tabbar",{attrs:{page:"discovery"}})],1)}),[],!1,null,"3f2d03b6",null);r.default=component.exports}}]);